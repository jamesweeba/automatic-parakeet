{"ast":null,"code":"import{useState}from'react';import'./LoginSignup.css';import\"../asset/cover.jpg\";import name from\"../asset/user.png\";import email from\"../asset/email.png\";import password from\"../asset/password.png\";import{useLocation,useNavigate}from'react-router-dom';import axios from'axios';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";const LoginSignup=()=>{const[action,setAction]=useState(\"Sign up\");const[username,setUsername]=useState('');const[useremail,setEmail]=useState('');const[userpassword,setPassword]=useState('');const[errorMessage,setErrorMessage]=useState('');const location=useLocation();const navigate=useNavigate();// const history = useHistory();\nconst[isSignUpSuccessful,setSignUpSuccessful]=useState(false);const handleUsernameChange=e=>{setUsername(e.target.value);};const handleEmailChange=e=>{setEmail(e.target.value);};const handlePasswordChange=e=>{setPassword(e.target.value);};const handleSubmit=async e=>{e.preventDefault();if(!username.trim()&&location.pathname!=='/login'){console.log(\"Please enter your name\");setErrorMessage('Please enter your name.');return;}if(!useremail.trim()){setErrorMessage('Please enter your email.');return;}if(!userpassword.trim()){setErrorMessage('Please enter your password.');return;}setErrorMessage('');const userData={name:username,email:useremail,password:userpassword};setEmail(\"\");setUsername(\"\");setPassword(\"\");try{let response=\"\";if(location.pathname==\"/login\"){delete userData.name;response=await axios.post('https://pic-morper.onrender.com/auth/login',userData);}else{response=await axios.post('https://pic-morper.onrender.com/auth/signup',userData);}if(response.status=200){setSignUpSuccessful(true);navigate('/success');}if(response.status==404){navigate(location.pathname);}}catch(error){// Handle errors\nconsole.error('Error signing up:',error);}};return/*#__PURE__*/ (// <form onSubmit={handleSubmit}>\n_jsx(\"div\",{className:\"container-back\",children:/*#__PURE__*/_jsx(\"form\",{onSubmit:handleSubmit,children:/*#__PURE__*/_jsxs(\"div\",{className:\"container\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"header\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"text\",children:action}),/*#__PURE__*/_jsx(\"div\",{className:\"underline\"})]}),errorMessage&&/*#__PURE__*/_jsx(\"div\",{className:\"error-message\",children:errorMessage}),/*#__PURE__*/_jsxs(\"div\",{className:\"inputs\",children:[location.pathname===\"/login\"?/*#__PURE__*/_jsx(\"div\",{}):/*#__PURE__*/_jsxs(\"div\",{className:\"input\",children:[/*#__PURE__*/_jsx(\"img\",{src:name,width:\"50px\",alt:\"name\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:username,onChange:handleUsernameChange,placeholder:\"Name\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"input\",children:[/*#__PURE__*/_jsx(\"img\",{src:email,width:\"50px\",alt:\"\"}),/*#__PURE__*/_jsx(\"input\",{type:\"email\",value:useremail,onChange:handleEmailChange,placeholder:\"Email\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"input\",children:[/*#__PURE__*/_jsx(\"img\",{src:password,width:\"50px\",alt:\"\"}),/*#__PURE__*/_jsx(\"input\",{type:\"password\",value:userpassword,onChange:handlePasswordChange,placeholder:\"Password\"})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"submit-container\",children:/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"submit\",children:location.pathname===\"/login\"?\"Login\":\"Sign up\"})})]})})}));};export default LoginSignup;","map":{"version":3,"names":["useState","name","email","password","useLocation","useNavigate","axios","jsx","_jsx","jsxs","_jsxs","LoginSignup","action","setAction","username","setUsername","useremail","setEmail","userpassword","setPassword","errorMessage","setErrorMessage","location","navigate","isSignUpSuccessful","setSignUpSuccessful","handleUsernameChange","e","target","value","handleEmailChange","handlePasswordChange","handleSubmit","preventDefault","trim","pathname","console","log","userData","response","post","status","error","className","children","onSubmit","src","width","alt","type","onChange","placeholder"],"sources":["/home/quaci/Documents/login/client/src/LoginSignup/LoginSignup.jsx"],"sourcesContent":["import { useState } from 'react'\nimport './LoginSignup.css'\nimport \"../asset/cover.jpg\"\nimport name from \"../asset/user.png\"\nimport email from \"../asset/email.png\"\nimport password from \"../asset/password.png\"\nimport { useLocation, useNavigate } from 'react-router-dom';\nimport axios from 'axios';\nconst LoginSignup = () => {\n    const [action, setAction] = useState(\"Sign up\")\n    const [username, setUsername] = useState('');\n    const [useremail, setEmail] = useState('');\n    const [userpassword, setPassword] = useState('');\n    const [errorMessage, setErrorMessage] = useState('');\n    const location = useLocation();\n    const navigate = useNavigate();\n    // const history = useHistory();\n    const [isSignUpSuccessful, setSignUpSuccessful] = useState(false);\n\n\n\n\n    const handleUsernameChange = (e) => {\n        setUsername(e.target.value);\n    };\n\n    const handleEmailChange = (e) => {\n        setEmail(e.target.value);\n    };\n\n    const handlePasswordChange = (e) => {\n        setPassword(e.target.value);\n    };\n\n    const handleSubmit = async (e) => {\n        e.preventDefault();\n\n        if (!username.trim() && location.pathname !== '/login') {\n            console.log(\"Please enter your name\")\n            setErrorMessage('Please enter your name.');\n            return;\n        }\n\n        if (!useremail.trim()) {\n            setErrorMessage('Please enter your email.');\n            return;\n        }\n\n        if (!userpassword.trim()) {\n            setErrorMessage('Please enter your password.');\n            return;\n        }\n        setErrorMessage('');\n        const userData = {\n            name: username,\n            email: useremail,\n            password: userpassword,\n        };\n\n        setEmail(\"\");\n        setUsername(\"\");\n        setPassword(\"\");\n\n        try {\n            let response = \"\";\n            if (location.pathname == \"/login\") {\n                delete userData.name\n                response = await axios.post('https://pic-morper.onrender.com/auth/login', userData);\n            } else {\n                response = await axios.post('https://pic-morper.onrender.com/auth/signup', userData);\n            }\n            if (response.status = 200) {\n                setSignUpSuccessful(true);\n                navigate('/success')\n            }\n            if (response.status == 404) {\n                navigate(location.pathname)\n            }\n\n\n\n\n        } catch (error) {\n            // Handle errors\n            console.error('Error signing up:', error);\n        }\n    };\n\n\n\n\n\n\n    return (\n        // <form onSubmit={handleSubmit}>\n        <div className='container-back'>\n            <form onSubmit={handleSubmit}>\n                <div className='container'>\n                    <div className='header'>\n                        <div className='text'>{action}</div>\n                        <div className='underline'></div>\n                    </div>\n\n                    {errorMessage && <div className=\"error-message\">{errorMessage}</div>}\n\n                    <div className='inputs'>\n                        {location.pathname === \"/login\" ? <div></div> : <div className='input'>\n                            <img src={name} width={\"50px\"} alt=\"name\" />\n                            <input type=\"text\" value={username} onChange={handleUsernameChange} placeholder='Name' />\n                        </div>}\n\n\n                        <div className='input'>\n                            <img src={email} width={\"50px\"} alt=\"\" />\n                            <input type=\"email\" value={useremail} onChange={handleEmailChange} placeholder='Email' />\n                        </div>\n\n                        <div className='input'>\n                            <img src={password} width={\"50px\"} alt=\"\" />\n                            <input type=\"password\" value={userpassword} onChange={handlePasswordChange} placeholder='Password' />\n                        </div>\n                    </div>\n                    <div className='submit-container'>\n                        <button type=\"submit\" className='submit'>{location.pathname === \"/login\" ? \"Login\" : \"Sign up\"}</button>\n\n                    </div>\n\n\n                </div>\n            </form>\n\n        </div>\n\n    )\n}\n\nexport default LoginSignup"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}