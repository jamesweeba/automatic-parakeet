{"ast":null,"code":"import{useState}from'react';import'./LoginSignup.css';import\"../asset/cover.jpg\";import name from\"../asset/user.png\";import email from\"../asset/email.png\";import password from\"../asset/password.png\";import{useLocation,useNavigate}from'react-router-dom';import axios from'axios';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";const LoginSignup=()=>{const[action,setAction]=useState(\"Sign up\");const[username,setUsername]=useState('');const[useremail,setEmail]=useState('');const[userpassword,setPassword]=useState('');const location=useLocation();const navigate=useNavigate();// const history = useHistory();\nconst[isSignUpSuccessful,setSignUpSuccessful]=useState(false);const handleUsernameChange=e=>{setUsername(e.target.value);};const handleEmailChange=e=>{setEmail(e.target.value);};const handlePasswordChange=e=>{setPassword(e.target.value);};const handleSubmit=async e=>{e.preventDefault();const userData={name:username,email:useremail,password:userpassword};setEmail(\"\");setUsername(\"\");setPassword(\"\");try{// Make an HTTP call to your API\nconsole.log(location.pathname);console.log(\"xxxxxxxxxxxxxxxxxxxxxxxxxxxxx\");let response=\"\";if(location.pathname==\"/login\"){delete userData.name;response=await axios.post('http://pic-morper:4000/auth/login',userData);}else{response=await axios.post('http://pic-morper:4000/auth/signup',userData);}if(response.status=200){console.log(response.data);// console.log(userData);\nsetSignUpSuccessful(true);navigate('/success');// history.push(\"/success\")\n}if(response.status==404){navigate(location.pathname);}}catch(error){// Handle errors\nconsole.error('Error signing up:',error);}};return/*#__PURE__*/ (// <form onSubmit={handleSubmit}>\n_jsx(\"div\",{className:\"container-back\",children:/*#__PURE__*/_jsx(\"form\",{onSubmit:handleSubmit,children:/*#__PURE__*/_jsxs(\"div\",{className:\"container\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"header\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"text\",children:action}),/*#__PURE__*/_jsx(\"div\",{className:\"underline\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"inputs\",children:[location.pathname===\"/login\"?/*#__PURE__*/_jsx(\"div\",{}):/*#__PURE__*/_jsxs(\"div\",{className:\"input\",children:[/*#__PURE__*/_jsx(\"img\",{src:name,width:\"50px\",alt:\"name\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:username,onChange:handleUsernameChange,placeholder:\"Name\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"input\",children:[/*#__PURE__*/_jsx(\"img\",{src:email,width:\"50px\",alt:\"\"}),/*#__PURE__*/_jsx(\"input\",{type:\"email\",value:useremail,onChange:handleEmailChange,placeholder:\"Email\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"input\",children:[/*#__PURE__*/_jsx(\"img\",{src:password,width:\"50px\",alt:\"\"}),/*#__PURE__*/_jsx(\"input\",{type:\"password\",value:userpassword,onChange:handlePasswordChange,placeholder:\"Password\"})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"submit-container\",children:/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"submit\",children:location.pathname===\"/login\"?\"Login\":\"Sign up\"})})]})})}));};export default LoginSignup;","map":{"version":3,"names":["useState","name","email","password","useLocation","useNavigate","axios","jsx","_jsx","jsxs","_jsxs","LoginSignup","action","setAction","username","setUsername","useremail","setEmail","userpassword","setPassword","location","navigate","isSignUpSuccessful","setSignUpSuccessful","handleUsernameChange","e","target","value","handleEmailChange","handlePasswordChange","handleSubmit","preventDefault","userData","console","log","pathname","response","post","status","data","error","className","children","onSubmit","src","width","alt","type","onChange","placeholder"],"sources":["/home/quaci/Documents/login/client/src/LoginSignup/LoginSignup.jsx"],"sourcesContent":["import { useState } from 'react'\nimport './LoginSignup.css'\nimport \"../asset/cover.jpg\"\nimport name from \"../asset/user.png\"\nimport email from \"../asset/email.png\"\nimport password from \"../asset/password.png\"\nimport { useLocation, useNavigate } from 'react-router-dom';\nimport axios from 'axios';\nconst LoginSignup = () => {\n    const [action, setAction] = useState(\"Sign up\")\n    const [username, setUsername] = useState('');\n    const [useremail, setEmail] = useState('');\n    const [userpassword, setPassword] = useState('');\n    const location = useLocation();\n    const navigate = useNavigate();\n    // const history = useHistory();\n    const [isSignUpSuccessful, setSignUpSuccessful] = useState(false);\n\n\n\n\n    const handleUsernameChange = (e) => {\n        setUsername(e.target.value);\n    };\n\n    const handleEmailChange = (e) => {\n        setEmail(e.target.value);\n    };\n\n    const handlePasswordChange = (e) => {\n        setPassword(e.target.value);\n    };\n\n    const handleSubmit = async (e) => {\n        e.preventDefault();\n        const userData = {\n            name: username,\n            email: useremail,\n            password: userpassword,\n        };\n\n        setEmail(\"\");\n        setUsername(\"\");\n        setPassword(\"\");\n\n        try {\n            // Make an HTTP call to your API\n            console.log(location.pathname);\n            console.log(\"xxxxxxxxxxxxxxxxxxxxxxxxxxxxx\")\n\n            let response = \"\";\n\n            if (location.pathname == \"/login\") {\n                delete userData.name\n                response = await axios.post('http://pic-morper:4000/auth/login', userData);\n\n            } else {\n                response = await axios.post('http://pic-morper:4000/auth/signup', userData);\n\n            }\n            if (response.status = 200) {\n                console.log(response.data);\n                // console.log(userData);\n                setSignUpSuccessful(true);\n                navigate('/success')\n                \n                // history.push(\"/success\")\n\n            }\n            if(response.status == 404){\n                navigate(location.pathname)\n\n            }\n\n\n\n\n        } catch (error) {\n            // Handle errors\n            console.error('Error signing up:', error);\n        }\n    };\n\n\n\n\n\n\n    return (\n        // <form onSubmit={handleSubmit}>\n        <div className='container-back'>\n            <form onSubmit={handleSubmit}>\n\n                <div className='container'>\n                    <div className='header'>\n                        <div className='text'>{action}</div>\n                        <div className='underline'></div>\n                    </div>\n                    <div className='inputs'>\n                        {location.pathname === \"/login\" ? <div></div> : <div className='input'>\n                            <img src={name} width={\"50px\"} alt=\"name\" />\n                            <input type=\"text\" value={username} onChange={handleUsernameChange} placeholder='Name' />\n                        </div>}\n\n\n                        <div className='input'>\n                            <img src={email} width={\"50px\"} alt=\"\" />\n                            <input type=\"email\" value={useremail} onChange={handleEmailChange} placeholder='Email' />\n                        </div>\n\n                        <div className='input'>\n                            <img src={password} width={\"50px\"} alt=\"\" />\n                            <input type=\"password\" value={userpassword} onChange={handlePasswordChange} placeholder='Password' />\n                        </div>\n                    </div>\n                    <div className='submit-container'>\n                        <button type=\"submit\" className='submit'>{location.pathname === \"/login\" ? \"Login\" : \"Sign up\"}</button>\n\n                    </div>\n\n                </div>\n            </form>\n\n        </div>\n\n    )\n}\n\nexport default LoginSignup"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}